# üìö Clase 1: Navegaci√≥n B√°sica

## üß≠ Navegaci√≥n del M√≥dulo
- **‚¨ÖÔ∏è Anterior**: [M√≥dulo 2: Componentes B√°sicos](../junior_2/README.md)
- **‚û°Ô∏è Siguiente**: [Clase 2: Stack Navigator](clase_2_stack_navigator.md)
- **üè† [Volver al Inicio](../../README.md)**

---

## üéØ Objetivos de la Clase
- Comprender los conceptos fundamentales de navegaci√≥n en React Native
- Aprender a configurar React Navigation en un proyecto
- Dominar la navegaci√≥n b√°sica entre pantallas
- Crear una estructura de navegaci√≥n simple
- Entender la diferencia entre navegaci√≥n web y m√≥vil

---

## üìö Contenido Te√≥rico

### **¬øQu√© es la Navegaci√≥n en React Native?**

La navegaci√≥n en React Native es el sistema que permite a los usuarios moverse entre diferentes pantallas o vistas dentro de una aplicaci√≥n m√≥vil. A diferencia de la navegaci√≥n web tradicional, la navegaci√≥n m√≥vil debe ser intuitiva, r√°pida y seguir las convenciones de cada plataforma.

#### **Caracter√≠sticas principales:**
- **Navegaci√≥n nativa**: Sigue los patrones de iOS y Android
- **Transiciones suaves**: Animaciones fluidas entre pantallas
- **Gestos t√°ctiles**: Navegaci√≥n mediante gestos del usuario
- **Historial de navegaci√≥n**: Mantiene el estado de navegaci√≥n
- **Deep linking**: Permite abrir pantallas espec√≠ficas desde enlaces externos

### **Tipos de Navegaci√≥n:**

#### **1. Navegaci√≥n por Stack (Pila):**
- Pantallas se apilan una encima de otra
- Navegaci√≥n hacia adelante y hacia atr√°s
- Ideal para flujos lineales (login ‚Üí home ‚Üí detalles)

#### **2. Navegaci√≥n por Tabs:**
- M√∫ltiples pantallas accesibles simult√°neamente
- Navegaci√≥n horizontal entre secciones
- Perfecto para apps con funcionalidades independientes

#### **3. Navegaci√≥n por Drawer:**
- Men√∫ lateral deslizable
- Acceso a todas las secciones principales
- Com√∫n en apps empresariales o con muchas funcionalidades

### **React Navigation vs Navegaci√≥n Nativa:**

**React Navigation:**
- ‚úÖ F√°cil de implementar
- ‚úÖ Multiplataforma
- ‚úÖ Personalizable
- ‚úÖ Gran comunidad
- ‚ùå Puede tener problemas de rendimiento en apps complejas

**Navegaci√≥n Nativa:**
- ‚úÖ Mejor rendimiento
- ‚úÖ Comportamiento nativo perfecto
- ‚úÖ Acceso completo a APIs nativas
- ‚ùå M√°s complejo de implementar
- ‚ùå Requiere c√≥digo separado para cada plataforma

---

## üíª Implementaci√≥n Pr√°ctica

### **1. Configuraci√≥n Inicial de React Navigation**

```bash:terminal
# Instalar dependencias necesarias
npm install @react-navigation/native @react-navigation/stack
npm install react-native-screens react-native-safe-area-context
npm install react-native-gesture-handler

# Para iOS, instalar pods
cd ios && pod install && cd ..
```

### **2. Configuraci√≥n del Navegador Principal**

```javascript:src/navigation/AppNavigator.js
import React from 'react';
import { NavigationContainer } from '@react-navigation/native';
import { createStackNavigator } from '@react-navigation/stack';

// Importamos las pantallas de la aplicaci√≥n
import HomeScreen from '../screens/HomeScreen';
import ProfileScreen from '../screens/ProfileScreen';
import SettingsScreen from '../screens/SettingsScreen';

// Creamos el navegador de stack
const Stack = createStackNavigator();

// Componente principal del navegador
const AppNavigator = () => {
  return (
    // NavigationContainer es el contenedor principal que envuelve toda la navegaci√≥n
    <NavigationContainer>
      {/* Stack.Navigator define c√≥mo se organizan las pantallas */}
      <Stack.Navigator
        // Pantalla inicial de la aplicaci√≥n
        initialRouteName="Home"
        // Configuraci√≥n global del navegador
        screenOptions={{
          // Estilo del header por defecto
          headerStyle: {
            backgroundColor: '#007bff', // Color de fondo del header
            elevation: 4, // Sombra en Android
            shadowColor: '#000', // Color de sombra en iOS
            shadowOffset: { width: 0, height: 2 }, // Offset de la sombra
            shadowOpacity: 0.25, // Opacidad de la sombra
            shadowRadius: 4, // Radio de la sombra
          },
          // Estilo del texto del header
          headerTintColor: '#fff', // Color del texto del header
          // Estilo del t√≠tulo del header
          headerTitleStyle: {
            fontWeight: 'bold', // Peso de la fuente
            fontSize: 18, // Tama√±o de la fuente
          },
          // Configuraci√≥n del bot√≥n de retroceso
          headerBackTitle: 'Atr√°s', // Texto del bot√≥n de retroceso (iOS)
          headerBackTitleVisible: true, // Mostrar texto del bot√≥n de retroceso
        }}
      >
        {/* Definimos cada pantalla de la aplicaci√≥n */}
        
        {/* Pantalla de inicio */}
        <Stack.Screen
          name="Home" // Nombre √∫nico de la pantalla
          component={HomeScreen} // Componente que se renderiza
          options={{
            title: 'Inicio', // T√≠tulo que aparece en el header
            // Configuraci√≥n espec√≠fica para esta pantalla
            headerRight: () => (
              <TouchableOpacity
                style={styles.headerButton}
                onPress={() => {
                  // Acci√≥n del bot√≥n derecho
                  console.log('Bot√≥n derecho presionado');
                }}
              >
                <Text style={styles.headerButtonText}>‚öôÔ∏è</Text>
              </TouchableOpacity>
            ),
          }}
        />
        
        {/* Pantalla de perfil */}
        <Stack.Screen
          name="Profile"
          component={ProfileScreen}
          options={{
            title: 'Mi Perfil',
            // Configuraci√≥n espec√≠fica para esta pantalla
            headerStyle: {
              backgroundColor: '#28a745', // Color diferente para esta pantalla
            },
          }}
        />
        
        {/* Pantalla de configuraci√≥n */}
        <Stack.Screen
          name="Settings"
          component={SettingsScreen}
          options={{
            title: 'Configuraci√≥n',
            // Configuraci√≥n espec√≠fica para esta pantalla
            headerStyle: {
              backgroundColor: '#6c757d', // Color diferente para esta pantalla
            },
          }}
        />
      </Stack.Navigator>
    </NavigationContainer>
  );
};

// Estilos para los botones del header
const styles = StyleSheet.create({
  headerButton: {
    marginRight: 15, // Margen derecho del bot√≥n
    padding: 8, // Padding interno del bot√≥n
  },
  headerButtonText: {
    fontSize: 20, // Tama√±o del emoji
    color: '#fff', // Color del emoji
  },
});

export default AppNavigator;
```

### **3. Pantalla de Inicio con Navegaci√≥n**

```javascript:src/screens/HomeScreen.js
import React from 'react';
import {
  View,
  Text,
  TouchableOpacity,
  StyleSheet,
  SafeAreaView,
} from 'react-native';

// Componente de la pantalla de inicio
const HomeScreen = ({ navigation }) => {
  // Funci√≥n para navegar al perfil
  const navigateToProfile = () => {
    // navigation.navigate() navega a una pantalla espec√≠fica
    // Si la pantalla ya est√° en el stack, regresa a ella
    navigation.navigate('Profile', {
      // Par√°metros que se pasan a la pantalla de destino
      userId: 123,
      userName: 'Juan P√©rez',
    });
  };

  // Funci√≥n para navegar a configuraci√≥n
  const navigateToSettings = () => {
    // navigation.push() siempre crea una nueva instancia de la pantalla
    // √ötil cuando quieres m√∫ltiples instancias de la misma pantalla
    navigation.push('Settings');
  };

  // Funci√≥n para ir a la pantalla anterior
  const goBack = () => {
    // navigation.goBack() regresa a la pantalla anterior
    if (navigation.canGoBack()) {
      navigation.goBack();
    }
  };

  // Funci√≥n para ir a la primera pantalla del stack
  const goToFirstScreen = () => {
    // navigation.popToTop() regresa a la primera pantalla del stack
    navigation.popToTop();
  };

  return (
    // SafeAreaView asegura que el contenido no se superponga con el notch o la barra de estado
    <SafeAreaView style={styles.container}>
      {/* Contenido principal de la pantalla */}
      <View style={styles.content}>
        {/* T√≠tulo de bienvenida */}
        <Text style={styles.title}>¬°Bienvenido a la App!</Text>
        
        {/* Descripci√≥n */}
        <Text style={styles.description}>
          Esta es la pantalla de inicio. Desde aqu√≠ puedes navegar a otras pantallas de la aplicaci√≥n.
        </Text>
        
        {/* Botones de navegaci√≥n */}
        <View style={styles.buttonContainer}>
          {/* Bot√≥n para ir al perfil */}
          <TouchableOpacity
            style={[styles.button, styles.primaryButton]}
            onPress={navigateToProfile}
          >
            <Text style={styles.buttonText}>Ver Mi Perfil</Text>
          </TouchableOpacity>
          
          {/* Bot√≥n para ir a configuraci√≥n */}
          <TouchableOpacity
            style={[styles.button, styles.secondaryButton]}
            onPress={navigateToSettings}
          >
            <Text style={styles.buttonText}>Configuraci√≥n</Text>
          </TouchableOpacity>
        </View>
        
        {/* Botones de navegaci√≥n adicionales */}
        <View style={styles.navigationContainer}>
          <Text style={styles.sectionTitle}>Navegaci√≥n Avanzada:</Text>
          
          {/* Bot√≥n para regresar */}
          <TouchableOpacity
            style={[styles.button, styles.infoButton]}
            onPress={goBack}
          >
            <Text style={styles.buttonText}>Regresar</Text>
          </TouchableOpacity>
          
          {/* Bot√≥n para ir al inicio del stack */}
          <TouchableOpacity
            style={[styles.button, styles.warningButton]}
            onPress={goToFirstScreen}
          >
            <Text style={styles.buttonText}>Ir al Inicio del Stack</Text>
          </TouchableOpacity>
        </View>
        
        {/* Informaci√≥n del estado de navegaci√≥n */}
        <View style={styles.infoContainer}>
          <Text style={styles.infoTitle}>Informaci√≥n de Navegaci√≥n:</Text>
          <Text style={styles.infoText}>
            ‚Ä¢ Puedes regresar: {navigation.canGoBack() ? 'S√≠' : 'No'}
          </Text>
          <Text style={styles.infoText}>
            ‚Ä¢ Pantalla actual: {navigation.getCurrentRoute()?.name}
          </Text>
        </View>
      </View>
    </SafeAreaView>
  );
};

// Estilos del componente
const styles = StyleSheet.create({
  // Contenedor principal
  container: {
    flex: 1, // Ocupa toda la pantalla disponible
    backgroundColor: '#f8f9fa', // Color de fondo
  },
  
  // Contenido principal
  content: {
    flex: 1, // Ocupa todo el espacio disponible
    padding: 20, // Padding interno
    justifyContent: 'center', // Centra el contenido verticalmente
  },
  
  // T√≠tulo principal
  title: {
    fontSize: 28, // Tama√±o de fuente grande
    fontWeight: 'bold', // Peso de la fuente
    color: '#333', // Color del texto
    textAlign: 'center', // Centra el texto
    marginBottom: 20, // Espacio despu√©s del t√≠tulo
  },
  
  // Descripci√≥n
  description: {
    fontSize: 16, // Tama√±o de fuente mediano
    color: '#666', // Color del texto
    textAlign: 'center', // Centra el texto
    lineHeight: 24, // Altura de l√≠nea para mejor legibilidad
    marginBottom: 40, // Espacio despu√©s de la descripci√≥n
  },
  
  // Contenedor de botones principales
  buttonContainer: {
    marginBottom: 40, // Espacio despu√©s de los botones
  },
  
  // Bot√≥n individual
  button: {
    paddingVertical: 15, // Padding vertical del bot√≥n
    paddingHorizontal: 30, // Padding horizontal del bot√≥n
    borderRadius: 10, // Bordes redondeados
    marginBottom: 15, // Espacio entre botones
    alignItems: 'center', // Centra el contenido horizontalmente
    elevation: 3, // Sombra en Android
    shadowColor: '#000', // Color de sombra en iOS
    shadowOffset: { width: 0, height: 2 }, // Offset de la sombra
    shadowOpacity: 0.25, // Opacidad de la sombra
    shadowRadius: 4, // Radio de la sombra
  },
  
  // Variantes de botones
  primaryButton: {
    backgroundColor: '#007bff', // Color azul primario
  },
  
  secondaryButton: {
    backgroundColor: '#6c757d', // Color gris secundario
  },
  
  infoButton: {
    backgroundColor: '#17a2b8', // Color azul informativo
  },
  
  warningButton: {
    backgroundColor: '#ffc107', // Color amarillo de advertencia
  },
  
  // Texto del bot√≥n
  buttonText: {
    color: '#fff', // Color del texto
    fontSize: 16, // Tama√±o de fuente
    fontWeight: '600', // Peso de la fuente
  },
  
  // Contenedor de navegaci√≥n avanzada
  navigationContainer: {
    marginBottom: 30, // Espacio despu√©s de la secci√≥n
  },
  
  // T√≠tulo de secci√≥n
  sectionTitle: {
    fontSize: 18, // Tama√±o de fuente
    fontWeight: '600', // Peso de la fuente
    color: '#333', // Color del texto
    marginBottom: 15, // Espacio despu√©s del t√≠tulo
    textAlign: 'center', // Centra el texto
  },
  
  // Contenedor de informaci√≥n
  infoContainer: {
    backgroundColor: '#e9ecef', // Color de fondo
    padding: 15, // Padding interno
    borderRadius: 10, // Bordes redondeados
    borderWidth: 1, // Grosor del borde
    borderColor: '#dee2e6', // Color del borde
  },
  
  // T√≠tulo de informaci√≥n
  infoTitle: {
    fontSize: 16, // Tama√±o de fuente
    fontWeight: '600', // Peso de la fuente
    color: '#333', // Color del texto
    marginBottom: 10, // Espacio despu√©s del t√≠tulo
  },
  
  // Texto de informaci√≥n
  infoText: {
    fontSize: 14, // Tama√±o de fuente
    color: '#666', // Color del texto
    marginBottom: 5, // Espacio entre l√≠neas
  },
});

export default HomeScreen;
```

### **4. Hook Personalizado para Navegaci√≥n**

```javascript:src/hooks/useNavigation.js
import { useNavigation, useRoute } from '@react-navigation/native';
import { useCallback, useRef, useEffect } from 'react';

// Hook personalizado para manejar la navegaci√≥n
const useCustomNavigation = () => {
  // Hook nativo de React Navigation
  const navigation = useNavigation();
  const route = useRoute();
  
  // Referencia para almacenar el historial de navegaci√≥n
  const navigationHistory = useRef([]);
  
  // Referencia para almacenar par√°metros de navegaci√≥n
  const navigationParams = useRef({});
  
  // Efecto para registrar la navegaci√≥n actual
  useEffect(() => {
    const currentRoute = {
      name: route.name,
      params: route.params,
      timestamp: Date.now(),
    };
    
    // Agregar la ruta actual al historial
    navigationHistory.current.push(currentRoute);
    
    // Limpiar historial si es muy largo (m√°ximo 50 entradas)
    if (navigationHistory.current.length > 50) {
      navigationHistory.current = navigationHistory.current.slice(-50);
    }
  }, [route.name, route.params]);
  
  // Funci√≥n para navegar a una pantalla con par√°metros
  const navigateTo = useCallback((screenName, params = {}) => {
    // Guardar par√°metros para uso posterior
    navigationParams.current[screenName] = params;
    
    // Navegar a la pantalla
    navigation.navigate(screenName, params);
  }, [navigation]);
  
  // Funci√≥n para navegar y reemplazar la pantalla actual
  const navigateAndReplace = useCallback((screenName, params = {}) => {
    // Guardar par√°metros
    navigationParams.current[screenName] = params;
    
    // Reemplazar la pantalla actual
    navigation.replace(screenName, params);
  }, [navigation]);
  
  // Funci√≥n para navegar y resetear el stack
  const navigateAndReset = useCallback((screenName, params = {}) => {
    // Guardar par√°metros
    navigationParams.current[screenName] = params;
    
    // Resetear el stack y navegar
    navigation.reset({
      index: 0,
      routes: [{ name: screenName, params }],
    });
  }, [navigation]);
  
  // Funci√≥n para regresar a una pantalla espec√≠fica
  const goBackTo = useCallback((screenName) => {
    // Buscar la pantalla en el historial
    const targetIndex = navigationHistory.current.findIndex(
      route => route.name === screenName
    );
    
    if (targetIndex !== -1) {
      // Calcular cu√°ntas pantallas regresar
      const stepsBack = navigationHistory.current.length - targetIndex - 1;
      
      // Regresar la cantidad de pasos necesaria
      for (let i = 0; i < stepsBack; i++) {
        if (navigation.canGoBack()) {
          navigation.goBack();
        }
      }
    }
  }, [navigation]);
  
  // Funci√≥n para obtener par√°metros de una pantalla
  const getScreenParams = useCallback((screenName) => {
    return navigationParams.current[screenName] || {};
  }, []);
  
  // Funci√≥n para obtener el historial de navegaci√≥n
  const getNavigationHistory = useCallback(() => {
    return [...navigationHistory.current];
  }, []);
  
  // Funci√≥n para limpiar el historial
  const clearHistory = useCallback(() => {
    navigationHistory.current = [];
    navigationParams.current = {};
  }, []);
  
  // Funci√≥n para verificar si se puede regresar
  const canGoBack = useCallback(() => {
    return navigation.canGoBack();
  }, [navigation]);
  
  // Funci√≥n para obtener la pantalla actual
  const getCurrentScreen = useCallback(() => {
    return {
      name: route.name,
      params: route.params,
    };
  }, [route.name, route.params]);
  
  // Funci√≥n para obtener la pantalla anterior
  const getPreviousScreen = useCallback(() => {
    if (navigationHistory.current.length > 1) {
      return navigationHistory.current[navigationHistory.current.length - 2];
    }
    return null;
  }, []);
  
  return {
    // Funciones de navegaci√≥n
    navigateTo,
    navigateAndReplace,
    navigateAndReset,
    goBackTo,
    
    // Funciones de informaci√≥n
    getScreenParams,
    getNavigationHistory,
    getCurrentScreen,
    getPreviousScreen,
    
    // Funciones de utilidad
    canGoBack,
    clearHistory,
    
    // Objeto de navegaci√≥n nativo (para casos especiales)
    navigation,
    
    // Ruta actual
    route,
  };
};

export default useCustomNavigation;
```

---

## üß™ Casos de Uso

### **Caso 1: Navegaci√≥n con Par√°metros**
```javascript
// En la pantalla de origen
const handleUserPress = (userId) => {
  navigation.navigate('UserProfile', {
    userId: userId,
    showEditButton: true,
  });
};

// En la pantalla de destino
const UserProfileScreen = ({ route, navigation }) => {
  const { userId, showEditButton } = route.params;
  
  return (
    <View>
      <Text>Perfil del usuario {userId}</Text>
      {showEditButton && (
        <Button title="Editar" onPress={() => {}} />
      )}
    </View>
  );
};
```

### **Caso 2: Navegaci√≥n Condicional**
```javascript
const handleLogin = async (credentials) => {
  try {
    const user = await loginUser(credentials);
    
    if (user.isFirstTime) {
      // Usuario nuevo, ir a onboarding
      navigation.replace('Onboarding');
    } else {
      // Usuario existente, ir a home
      navigation.replace('Home');
    }
  } catch (error) {
    // Mostrar error
    Alert.alert('Error', error.message);
  }
};
```

---

## üéØ Ejercicios Pr√°cticos

### **Ejercicio 1: Crear un Flujo de Navegaci√≥n Simple**
Crea una app con 3 pantallas:
- Pantalla de bienvenida
- Pantalla de login
- Pantalla principal

### **Ejercicio 2: Implementar Navegaci√≥n con Par√°metros**
Crea una lista de usuarios que al presionar navegue a un perfil con informaci√≥n del usuario.

### **Ejercicio 3: Navegaci√≥n Condicional**
Implementa un sistema que navegue a diferentes pantallas seg√∫n el estado del usuario (logueado/no logueado).

---

## üöÄ Proyecto de la Clase

### **App de Navegaci√≥n B√°sica**

Crea una aplicaci√≥n que demuestre:
- **Navegaci√≥n entre pantallas**: Home, Profile, Settings
- **Paso de par√°metros**: Entre pantallas
- **Navegaci√≥n condicional**: Seg√∫n el estado del usuario
- **Historial de navegaci√≥n**: Mostrar rutas visitadas

**Requisitos:**
1. Configurar React Navigation correctamente
2. Crear al menos 3 pantallas con navegaci√≥n
3. Implementar paso de par√°metros entre pantallas
4. Usar el hook personalizado de navegaci√≥n
5. Manejar estados de navegaci√≥n

**Estructura sugerida:**
```
src/
‚îú‚îÄ‚îÄ navigation/
‚îÇ   ‚îî‚îÄ‚îÄ AppNavigator.js
‚îú‚îÄ‚îÄ screens/
‚îÇ   ‚îú‚îÄ‚îÄ HomeScreen.js
‚îÇ   ‚îú‚îÄ‚îÄ ProfileScreen.js
‚îÇ   ‚îî‚îÄ‚îÄ SettingsScreen.js
‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îî‚îÄ‚îÄ useNavigation.js
‚îî‚îÄ‚îÄ App.js
```

---

## üìö Recursos Adicionales

### **Documentaci√≥n Oficial:**
- [React Navigation](https://reactnavigation.org/)
- [Getting Started](https://reactnavigation.org/docs/getting-started)

### **Art√≠culos Recomendados:**
- "Gu√≠a completa de React Navigation"
- "Mejores pr√°cticas para navegaci√≥n m√≥vil"
- "C√≥mo manejar par√°metros entre pantallas"

### **Herramientas:**
- [React Navigation DevTools](https://github.com/react-navigation/devtools)
- [Flipper](https://fbflipper.com/) - Para debugging de navegaci√≥n

---

## üìù Resumen de la Clase

### **Conceptos Clave:**
- **Navegaci√≥n**: Sistema para moverse entre pantallas en apps m√≥viles
- **React Navigation**: Librer√≠a principal para navegaci√≥n en React Native
- **Stack Navigator**: Navegaci√≥n por pila de pantallas
- **Par√°metros**: Datos que se pasan entre pantallas
- **Historial**: Registro de pantallas visitadas

### **Habilidades Desarrolladas:**
- ‚úÖ Configurar React Navigation en un proyecto
- ‚úÖ Crear navegadores b√°sicos con Stack Navigator
- ‚úÖ Navegar entre pantallas con par√°metros
- ‚úÖ Crear hooks personalizados para navegaci√≥n
- ‚úÖ Manejar estados de navegaci√≥n

### **Pr√≥ximos Pasos:**
En la siguiente clase aprenderemos sobre **Stack Navigator Avanzado**, que te permitir√° crear navegaci√≥n m√°s compleja con transiciones personalizadas y opciones avanzadas.

---

## üîó Enlaces de Navegaci√≥n

- **‚¨ÖÔ∏è M√≥dulo Anterior**: [Componentes B√°sicos](../junior_2/README.md)
- **‚û°Ô∏è Siguiente Clase**: [Stack Navigator](clase_2_stack_navigator.md)
- **üìö [README del M√≥dulo](README.md)**
- **üè† [Volver al Inicio](../../README.md)**
